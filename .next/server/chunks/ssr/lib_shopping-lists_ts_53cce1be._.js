module.exports=[89322,a=>{"use strict";var b=a.i(78560);async function c(a){try{let{data:c,error:d}=await b.supabase.from("shopping_lists").select("*").eq("user_id",a).order("updated_at",{ascending:!1});if(d)throw d;return{lists:c,error:null}}catch(a){return{lists:[],error:a}}}async function d(a,c,d){try{let{data:e,error:f}=await b.supabase.from("shopping_lists").insert([{user_id:a,name:c,description:d||null}]).select().single();if(f)throw f;return{list:e,error:null}}catch(a){return{list:null,error:a}}}async function e(a,c){try{let{data:d,error:e}=await b.supabase.from("shopping_lists").update({...c,updated_at:new Date().toISOString()}).eq("id",a).select().single();if(e)throw e;return{list:d,error:null}}catch(a){return{list:null,error:a}}}async function f(a){try{let{error:c}=await b.supabase.from("shopping_lists").delete().eq("id",a);if(c)throw c;return{error:null}}catch(a){return{error:a}}}async function g(a){try{let{data:c,error:d}=await b.supabase.from("shopping_list_items").select("*").eq("list_id",a).order("created_at",{ascending:!0});if(d)throw d;return{items:c,error:null}}catch(a){return{items:[],error:a}}}async function h(a,c,d=1){try{let{data:e,error:f}=await b.supabase.from("shopping_list_items").insert([{list_id:a,name:c,quantity:d}]).select().single();if(f)throw f;return{item:e,error:null}}catch(a){return{item:null,error:a}}}async function i(a,c){try{let{data:d,error:e}=await b.supabase.from("shopping_list_items").update({...c,updated_at:new Date().toISOString()}).eq("id",a).select().single();if(e)throw e;return{item:d,error:null}}catch(a){return{item:null,error:a}}}async function j(a){try{let{error:c}=await b.supabase.from("shopping_list_items").delete().eq("id",a);if(c)throw c;return{error:null}}catch(a){return{error:a}}}function k(a,c){let d=b.supabase.channel(`items-${a}`).on("postgres_changes",{event:"*",schema:"public",table:"shopping_list_items",filter:`list_id=eq.${a}`},async b=>{await new Promise(a=>setTimeout(a,100));let{items:d}=await g(a);c(d)}).subscribe();return()=>{b.supabase.removeChannel(d)}}function l(a,d){let e=b.supabase.channel(`lists-${a}`).on("postgres_changes",{event:"*",schema:"public",table:"shopping_lists",filter:`user_id=eq.${a}`},async b=>{await new Promise(a=>setTimeout(a,100));let{lists:e}=await c(a);d(e)}).subscribe();return()=>{b.supabase.removeChannel(e)}}async function m(a,c){try{let{data:d,error:e}=await b.supabase.from("shopping_list_items").update({completed:c,updated_at:new Date().toISOString()}).eq("id",a).select().single();if(e)throw e;return{item:d,error:null}}catch(a){return{item:null,error:a}}}a.s(["addShoppingListItem",()=>h,"createShoppingList",()=>d,"deleteShoppingList",()=>f,"deleteShoppingListItem",()=>j,"getShoppingListItems",()=>g,"getShoppingLists",()=>c,"subscribeToShoppingListItems",()=>k,"subscribeToShoppingLists",()=>l,"toggleShoppingListItem",()=>m,"updateShoppingList",()=>e,"updateShoppingListItem",()=>i])},44358,a=>{a.v(a=>Promise.resolve().then(()=>a(89322)))}];

//# sourceMappingURL=lib_shopping-lists_ts_53cce1be._.js.map