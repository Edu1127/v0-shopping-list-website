module.exports=[60350,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(45404),e=a.i(47033);let f=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var g={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let h=(0,c.forwardRef)(({color:a="currentColor",size:b=24,strokeWidth:d=2,absoluteStrokeWidth:e,className:h="",children:i,iconNode:j,...k},l)=>(0,c.createElement)("svg",{ref:l,...g,width:b,height:b,stroke:a,strokeWidth:e?24*Number(d)/Number(b):d,className:f("lucide",h),...k},[...j.map(([a,b])=>(0,c.createElement)(a,b)),...Array.isArray(i)?i:[i]])),i=(a,b)=>{let d=(0,c.forwardRef)(({className:d,...e},g)=>(0,c.createElement)(h,{ref:g,iconNode:b,className:f(`lucide-${a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,d),...e}));return d.displayName=`${a}`,d},j=i("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),k=i("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),l=i("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),m=i("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function n({onLogin:a}){let[d,f]=(0,c.useState)(""),[g,h]=(0,c.useState)(""),[i,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(""),u=async b=>{b.preventDefault(),t(""),r(!0);try{if(o){if(!i||!d||!g){t("Por favor preencha todos os campos"),r(!1);return}let{user:b,error:c}=await (0,e.signUp)(d,g,i);if(c){t(c.message||"Erro ao criar conta"),r(!1);return}b&&a(i)}else{if(!d||!g){t("Por favor preencha email e senha"),r(!1);return}let{user:b,error:c}=await (0,e.signIn)(d,g);if(c){t(c.message||"Erro ao entrar"),r(!1);return}b&&a(d.split("@")[0])}}catch(a){t("Ocorreu um erro inesperado"),r(!1)}};return(0,b.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"w-full max-w-md",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,b.jsx)(l,{className:"w-8 h-8 text-yellow-500"}),(0,b.jsx)("h1",{className:"text-3xl font-bold text-yellow-500",children:"ShopList"})]}),(0,b.jsx)("p",{className:"text-gray-700",children:"Organize suas compras com facilidade"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:o?"Criar Conta":"Entrar"}),(0,b.jsxs)("form",{onSubmit:u,className:"space-y-4",children:[o&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo"}),(0,b.jsx)("input",{id:"name",type:"text",value:i,onChange:a=>n(a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent disabled:bg-gray-100 placeholder-gray-600",placeholder:"Seu nome",disabled:q})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(j,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),(0,b.jsx)("input",{id:"email",type:"email",value:d,onChange:a=>f(a.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent disabled:bg-gray-100 placeholder-gray-600",placeholder:"seu@email.com",disabled:q})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(k,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),(0,b.jsx)("input",{id:"password",type:"password",value:g,onChange:a=>h(a.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent disabled:bg-gray-100 placeholder-gray-600",placeholder:"Sua senha",disabled:q})]})]}),s&&(0,b.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg text-sm",children:s}),(0,b.jsxs)("button",{type:"submit",disabled:q,className:"w-full bg-yellow-400 text-white font-semibold py-2 rounded-lg hover:bg-yellow-500 transition-colors duration-200 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[q&&(0,b.jsx)(m,{className:"w-4 h-4 animate-spin"}),o?"Criar Conta":"Entrar"]})]}),(0,b.jsx)("div",{className:"mt-6 text-center",children:(0,b.jsxs)("p",{className:"text-gray-600 text-sm",children:[o?"Já tem conta?":"Não tem conta?"," ",(0,b.jsx)("button",{onClick:()=>{p(!o),n(""),f(""),h(""),t("")},disabled:q,className:"text-yellow-500 font-semibold hover:underline disabled:text-gray-400",children:o?"Entrar":"Cadastrar"})]})})]}),(0,b.jsx)("div",{className:"mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,b.jsxs)("p",{className:"text-sm text-gray-700 font-medium",children:[(0,b.jsx)("strong",{children:"Autenticação:"})," Use um email e senha para criar uma conta ou fazer login. Os dados são salvos no Supabase."]})})]})})}let o=i("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),p=i("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var q=a.i(89322);let r=i("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),s=i("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),t=i("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);function u({list:a,onSelect:c,onDelete:d}){let e=a.items||[],f=e.filter(a=>a.completed).length,g=e.length;return(0,b.jsx)("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow overflow-hidden border border-gray-100",children:(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:a.name}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:new Date(a.created_at).toLocaleDateString("pt-BR")})]}),(0,b.jsx)("button",{onClick:a=>{a.stopPropagation(),d()},className:"text-gray-400 hover:text-red-500 transition-colors","aria-label":"Deletar lista",children:(0,b.jsx)(r,{className:"w-5 h-5"})})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Progresso"}),(0,b.jsxs)("span",{className:"text-sm font-semibold text-yellow-500",children:[g>0?Math.round(f/g*100):0,"%"]})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,b.jsx)("div",{className:"bg-yellow-400 h-2 rounded-full transition-all duration-300",style:{width:g>0?`${f/g*100}%`:"0%"}})})]}),(0,b.jsx)("div",{className:"mb-4",children:g>0?(0,b.jsxs)("div",{className:"space-y-2",children:[e.slice(0,2).map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[a.completed?(0,b.jsx)(t,{className:"w-4 h-4 text-green-500 flex-shrink-0"}):(0,b.jsx)("div",{className:"w-4 h-4 border-2 border-gray-300 rounded-full flex-shrink-0"}),(0,b.jsxs)("span",{className:a.completed?"line-through text-gray-400":"",children:[a.name," (",a.quantity,"x)"]})]},a.id)),g>2&&(0,b.jsxs)("p",{className:"text-sm text-gray-500 pt-2",children:["+ ",g-2," itens"]})]}):(0,b.jsx)("p",{className:"text-gray-500 text-sm",children:"Nenhum item adicionado"})}),(0,b.jsxs)("button",{onClick:c,className:"w-full flex items-center justify-center gap-2 bg-yellow-400 text-white font-semibold py-2 rounded-lg hover:bg-yellow-500 transition-colors",children:["Abrir",(0,b.jsx)(s,{className:"w-4 h-4"})]})]})})}let v=i("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function w({onClose:a,onCreate:d}){let[e,f]=(0,c.useState)("");return(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Nova Lista"}),(0,b.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Fechar",children:(0,b.jsx)(v,{className:"w-6 h-6"})})]}),(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),e.trim()&&(d(e),f(""))},className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"listName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Lista"}),(0,b.jsx)("input",{id:"listName",type:"text",value:e,onChange:a=>f(a.target.value),placeholder:"Ex: Supermercado, Farmácia...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent placeholder-gray-600",autoFocus:!0})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{type:"button",onClick:a,className:"flex-1 px-4 py-2 text-gray-700 border border-gray-300 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Cancelar"}),(0,b.jsx)("button",{type:"submit",disabled:!e.trim(),className:"flex-1 px-4 py-2 bg-yellow-400 text-white rounded-lg font-medium hover:bg-yellow-500 disabled:bg-gray-300 transition-colors",children:"Criar Lista"})]})]})]})})}let x=i("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),y=i("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);function z({onClose:a,onAdd:d}){let[e,f]=(0,c.useState)(""),[g,h]=(0,c.useState)(1);return(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Adicionar Item"}),(0,b.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Fechar",children:(0,b.jsx)(v,{className:"w-6 h-6"})})]}),(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),e.trim()&&(d(e,g),f(""),h(1))},className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"itemName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Item"}),(0,b.jsx)("input",{id:"itemName",type:"text",value:e,onChange:a=>f(a.target.value),placeholder:"Ex: Leite, Pão...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent placeholder-gray-600",autoFocus:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantidade"}),(0,b.jsx)("input",{id:"quantity",type:"number",min:"1",value:g,onChange:a=>h(Math.max(1,Number.parseInt(a.target.value)||1)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent placeholder-gray-600"})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{type:"button",onClick:a,className:"flex-1 px-4 py-2 text-gray-700 border border-gray-300 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Cancelar"}),(0,b.jsx)("button",{type:"submit",disabled:!e.trim(),className:"flex-1 px-4 py-2 bg-yellow-400 text-white rounded-lg font-medium hover:bg-yellow-500 disabled:bg-gray-300 transition-colors",children:"Adicionar"})]})]})]})})}function A({list:a,onBack:d,onAddItem:e,onToggleItem:f,onDeleteItem:g,onLogout:h}){let[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(a.items||[]),[m,n]=(0,c.useState)(!a.items);async function s(){try{let{items:b}=await (0,q.getShoppingListItems)(a.id);l(b)}catch(a){console.error("Error loading items:",a)}finally{n(!1)}}(0,c.useEffect)(()=>{a.items||s();let b=(0,q.subscribeToShoppingListItems)(a.id,a=>{l(a)});return()=>{b()}},[a.id,a.items]);let t=k.filter(a=>a.completed).length;return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)("header",{className:"bg-white shadow-sm sticky top-0 z-10",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,b.jsxs)("button",{onClick:d,className:"flex items-center gap-2 text-yellow-500 font-semibold hover:text-yellow-600 transition-colors",children:[(0,b.jsx)(x,{className:"w-5 h-5"}),"Voltar"]}),(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900 flex-1 text-center",children:a.name}),(0,b.jsxs)("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[(0,b.jsx)(o,{className:"w-5 h-5"}),"Sair"]})]})}),(0,b.jsxs)("main",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Progresso"}),(0,b.jsxs)("div",{className:"flex items-end gap-4",children:[(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,b.jsx)("div",{className:"bg-yellow-400 h-3 rounded-full transition-all duration-300",style:{width:k.length>0?`${t/k.length*100}%`:"0%"}})})}),(0,b.jsxs)("span",{className:"text-xl font-bold text-yellow-500",children:[k.length>0?Math.round(t/k.length*100):0,"%"]})]}),(0,b.jsxs)("p",{className:"text-gray-600 text-sm mt-3",children:[t," de ",k.length," itens marcados"]})]}),(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)("button",{onClick:()=>j(!0),className:"flex items-center gap-2 bg-yellow-400 text-white px-6 py-3 rounded-lg font-semibold hover:bg-yellow-500 transition-colors",children:[(0,b.jsx)(p,{className:"w-5 h-5"}),"Adicionar Item"]})}),(0,b.jsx)("div",{className:"space-y-3",children:m?(0,b.jsx)("p",{className:"text-gray-600",children:"Carregando itens..."}):k.length>0?(0,b.jsxs)(b.Fragment,{children:[k.filter(a=>!a.completed).length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-gray-600 mb-3 uppercase",children:"Pendente"}),(0,b.jsx)("div",{className:"space-y-2",children:k.filter(a=>!a.completed).map(c=>(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 flex items-center gap-4 shadow-sm hover:shadow-md transition-shadow",children:[(0,b.jsx)("button",{onClick:()=>f(a.id,c.id),className:"flex-shrink-0 w-6 h-6 border-2 border-gray-300 rounded-full hover:border-yellow-400 transition-colors flex items-center justify-center",children:(0,b.jsx)("div",{className:"w-4 h-4"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-gray-900 font-medium",children:c.name}),(0,b.jsxs)("p",{className:"text-gray-500 text-sm",children:["Quantidade: ",c.quantity]})]}),(0,b.jsx)("button",{onClick:()=>g(a.id,c.id),className:"text-gray-400 hover:text-red-500 transition-colors","aria-label":"Deletar item",children:(0,b.jsx)(r,{className:"w-5 h-5"})})]},c.id))})]}),t>0&&(0,b.jsxs)("div",{className:"mt-8",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-gray-600 mb-3 uppercase",children:"Concluído"}),(0,b.jsx)("div",{className:"space-y-2",children:k.filter(a=>a.completed).map(c=>(0,b.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 flex items-center gap-4 shadow-sm border border-green-100",children:[(0,b.jsx)("button",{onClick:()=>f(a.id,c.id),className:"flex-shrink-0 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center hover:bg-green-600 transition-colors",children:(0,b.jsx)(y,{className:"w-4 h-4 text-white"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-gray-500 font-medium line-through",children:c.name}),(0,b.jsxs)("p",{className:"text-gray-400 text-sm",children:["Quantidade: ",c.quantity]})]}),(0,b.jsx)("button",{onClick:()=>g(a.id,c.id),className:"text-gray-400 hover:text-red-500 transition-colors","aria-label":"Deletar item",children:(0,b.jsx)(r,{className:"w-5 h-5"})})]},c.id))})]})]}):(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("p",{className:"text-gray-600 text-lg mb-4",children:"Nenhum item adicionado"}),(0,b.jsx)("button",{onClick:()=>j(!0),className:"bg-yellow-400 text-white px-6 py-2 rounded-lg font-semibold hover:bg-yellow-500 transition-colors",children:"Adicionar Primeiro Item"})]})})]}),i&&(0,b.jsx)(z,{onClose:()=>j(!1),onAdd:(b,c)=>{e(a.id,b,c),j(!1)}})]})}function B({userName:e,onLogout:f}){let{user:g}=(0,d.useAuth)(),[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(!0),[l,m]=(0,c.useState)(!1),[n,r]=(0,c.useState)(null);async function s(){try{if(!g)return;k(!0);let{lists:a}=await (0,q.getShoppingLists)(g.id);i(a)}catch(a){console.error("Error loading lists:",a)}finally{k(!1)}}(0,c.useEffect)(()=>{if(g){s();let a=(0,q.subscribeToShoppingLists)(g.id,a=>{i(a)});return()=>{a()}}},[g]);let t=async a=>{try{if(!g)return;let{list:b}=await (0,q.createShoppingList)(g.id,a);b&&(i([b,...h]),m(!1))}catch(a){console.error("Error creating list:",a)}},v=async a=>{try{await (0,q.deleteShoppingList)(a),i(h.filter(b=>b.id!==a)),n===a&&r(null)}catch(a){console.error("Error deleting list:",a)}},x=async(b,c,d)=>{try{let{addShoppingListItem:e}=await a.A(44358);await e(b,c,d)}catch(a){console.error("Error adding item:",a)}},y=async(b,c)=>{try{let{toggleShoppingListItem:d}=await a.A(44358),e=h.find(a=>a.id===b),f=e?.items?.find(a=>a.id===c);f&&await d(c,!f.completed)}catch(a){console.error("Error toggling item:",a)}},z=async(b,c)=>{try{let{deleteShoppingListItem:b}=await a.A(44358);await b(c)}catch(a){console.error("Error deleting item:",a)}},B=h.find(a=>a.id===n);return B?(0,b.jsx)(A,{list:B,onBack:()=>r(null),onAddItem:x,onToggleItem:y,onDeleteItem:z,onLogout:f}):(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)("header",{className:"bg-white shadow-sm sticky top-0 z-10",children:(0,b.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-yellow-500",children:"ShopList"}),(0,b.jsxs)("p",{className:"text-gray-700 text-sm",children:["Bem-vindo, ",e]})]}),(0,b.jsxs)("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[(0,b.jsx)(o,{className:"w-5 h-5"}),"Sair"]})]})}),(0,b.jsxs)("main",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Minhas Listas"}),(0,b.jsx)("p",{className:"text-gray-700",children:"Gerencie suas listas de compras"})]}),(0,b.jsxs)("button",{onClick:()=>m(!0),className:"flex items-center gap-2 bg-yellow-400 text-white px-6 py-3 rounded-lg font-semibold hover:bg-yellow-500 transition-colors",children:[(0,b.jsx)(p,{className:"w-5 h-5"}),"Nova Lista"]})]}),j?(0,b.jsx)("div",{className:"text-center py-12",children:(0,b.jsx)("p",{className:"text-gray-600 text-lg",children:"Carregando listas..."})}):h.length>0?(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(a=>(0,b.jsx)(u,{list:a,onSelect:()=>r(a.id),onDelete:()=>v(a.id)},a.id))}):(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("p",{className:"text-gray-600 text-lg mb-4",children:"Nenhuma lista criada ainda"}),(0,b.jsx)("button",{onClick:()=>m(!0),className:"bg-yellow-400 text-white px-6 py-2 rounded-lg font-semibold hover:bg-yellow-500 transition-colors",children:"Criar Primeira Lista"})]})]}),l&&(0,b.jsx)(w,{onClose:()=>m(!1),onCreate:t})]})}function C(){let{user:a,isLoading:f}=(0,d.useAuth)(),[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)(!0);async function k(){try{if(!a)return;let{profile:b}=await (0,e.getProfile)(a.id);b&&h(b.full_name||b.email.split("@")[0])}catch(a){console.error("Error loading profile:",a)}finally{j(!1)}}(0,c.useEffect)(()=>{a?k():j(!1)},[a]);let l=async()=>{await (0,e.signOut)(),h("")};return f||i?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsx)("div",{className:"animate-spin",children:(0,b.jsx)("div",{className:"h-12 w-12 border-4 border-yellow-400 border-t-transparent rounded-full"})})}):a?(0,b.jsx)(B,{userName:g,onLogout:l}):(0,b.jsx)(n,{onLogin:a=>{h(a)}})}a.s(["default",()=>C],60350)}];

//# sourceMappingURL=app_page_tsx_55b2e5ee._.js.map