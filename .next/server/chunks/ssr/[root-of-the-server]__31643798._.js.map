{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../node_modules/next/src/server/route-modules/app-page/module.compiled.js","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","../../../../components/auth-provider.tsx","../../../../lib/auth.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","\"use client\"\r\n\r\nimport { createContext, useContext, useState, useEffect, type ReactNode } from \"react\"\r\nimport { supabase } from \"@/lib/supabase\"\r\nimport { getCurrentUser } from \"@/lib/auth\"\r\nimport type { User } from \"@supabase/supabase-js\"\r\n\r\ninterface AuthContextType {\r\n  user: User | null\r\n  isLoading: boolean\r\n  isSignedIn: boolean\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined)\r\n\r\nexport function AuthProvider({ children }: { children: ReactNode }) {\r\n  const [user, setUser] = useState<User | null>(null)\r\n  const [isLoading, setIsLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    // Check current user on mount\r\n    checkUser()\r\n\r\n    // Subscribe to auth changes\r\n    const {\r\n      data: { subscription },\r\n    } = supabase.auth.onAuthStateChange((_event, session) => {\r\n      setUser(session?.user || null)\r\n      setIsLoading(false)\r\n    })\r\n\r\n    return () => {\r\n      subscription?.unsubscribe()\r\n    }\r\n  }, [])\r\n\r\n  async function checkUser() {\r\n    try {\r\n      const { user: currentUser } = await getCurrentUser()\r\n      setUser(currentUser)\r\n    } catch (error) {\r\n      console.error(\"Error checking user:\", error)\r\n      setUser(null)\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, isLoading, isSignedIn: user !== null }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  )\r\n}\r\n\r\nexport function useAuth() {\r\n  const context = useContext(AuthContext)\r\n  if (context === undefined) {\r\n    throw new Error(\"useAuth must be used within an AuthProvider\")\r\n  }\r\n  return context\r\n}\r\n","import { supabase, type Profile } from './supabase'\r\n\r\nexport async function signUp(email: string, password: string, fullName: string) {\r\n  try {\r\n    // Sign up the user - profile will be created automatically by trigger\r\n    const { data: authData, error: authError } = await supabase.auth.signUp({\r\n      email,\r\n      password,\r\n      options: {\r\n        data: {\r\n          full_name: fullName,\r\n        },\r\n      },\r\n    })\r\n\r\n    if (authError) {\r\n      throw authError\r\n    }\r\n\r\n    if (!authData.user) {\r\n      throw new Error('User creation failed')\r\n    }\r\n\r\n    return { user: authData.user, error: null }\r\n  } catch (error) {\r\n    return { user: null, error }\r\n  }\r\n}\r\n\r\nexport async function signIn(email: string, password: string) {\r\n  try {\r\n    const { data, error } = await supabase.auth.signInWithPassword({\r\n      email,\r\n      password,\r\n    })\r\n\r\n    if (error) {\r\n      throw error\r\n    }\r\n\r\n    return { user: data.user, session: data.session, error: null }\r\n  } catch (error) {\r\n    return { user: null, session: null, error }\r\n  }\r\n}\r\n\r\nexport async function signOut() {\r\n  try {\r\n    const { error } = await supabase.auth.signOut()\r\n    if (error) {\r\n      throw error\r\n    }\r\n    return { error: null }\r\n  } catch (error) {\r\n    return { error }\r\n  }\r\n}\r\n\r\nexport async function getCurrentUser() {\r\n  try {\r\n    const { data, error } = await supabase.auth.getUser()\r\n\r\n    if (error) {\r\n      throw error\r\n    }\r\n\r\n    return { user: data.user, error: null }\r\n  } catch (error) {\r\n    return { user: null, error }\r\n  }\r\n}\r\n\r\nexport async function getProfile(userId: string) {\r\n  try {\r\n    const { data, error } = await supabase\r\n      .from('profiles')\r\n      .select('*')\r\n      .eq('id', userId)\r\n      .single()\r\n\r\n    if (error) {\r\n      throw error\r\n    }\r\n\r\n    return { profile: data as Profile, error: null }\r\n  } catch (error) {\r\n    return { profile: null, error }\r\n  }\r\n}\r\n\r\nexport async function updateProfile(userId: string, updates: Partial<Profile>) {\r\n  try {\r\n    const { data, error } = await supabase\r\n      .from('profiles')\r\n      .update({\r\n        ...updates,\r\n        updated_at: new Date().toISOString(),\r\n      })\r\n      .eq('id', userId)\r\n      .select()\r\n      .single()\r\n\r\n    if (error) {\r\n      throw error\r\n    }\r\n\r\n    return { profile: data as Profile, error: null }\r\n  } catch (error) {\r\n    return { profile: null, error }\r\n  }\r\n}\r\n"],"names":["module","exports","require","vendored","AppRouterContext","HooksClientContext","ServerInsertedHtml","process","env","NEXT_RUNTIME","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","ReactJsxRuntime","React"],"mappings":"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","ignoreList":[0,1,2,3,4,5]}